<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ç™¾ç§‘-ä¸­è¯æè¯†åˆ«</title>
  </head>
  <body>
    {% extends "nav_footer.html" %}
    {% block content %}
    <!-- ä¸€é¢æ°”åŠ¿ç£…ç¤´çš„è‹±é›„æ——å¸œæ¥å±•ç¤ºä¸€äº›ä¸œè¥¿ -->
    <section class="hero bd-hero bd-is-love">
        <div class="hero-body">
            <div class="container">
                <div class="bd-hero-body">
                    <div class="bd-hero-heading">
                        <h1 class="title">
                            <span class="icon"><i class="fa-solid fa-book"></i></span>
                            <p>ç™¾ç§‘</p>
                        </h1>
                        <div class="subtitle is-4">
                            <p>çœ‹çœ‹æœ‰æ²¡æœ‰ä½ è¦çš„<strong>ä¸­è¯æ</strong>!ğŸ¤­</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ä¸»è¦å†…å®¹ -->
    <div class="container mt-3">
        <article class="panel is-danger">
          <p class="panel-heading">
            è¯æç­›æŸ¥
          </p>
          <p class="panel-tabs">
            <a id='all' class="is-active" href="/baike">æ‰€æœ‰</a>
            <a id='cool' href="/baike/0">å‡‰</a>
            <a id='warm' href="/baike/1">æ¸©</a>
            <a id='cold' href="/baike/2">å¯’</a>
            <a id='even' href="/baike/3">å¹³</a>
          </p>
          <div class="panel-block">
              <form class="p-0" action="{{ request.path }}" method="post"  style="width: 100%;">
                  <div class="field has-addons" style="width: 100%; justify-content: center">

                      <div class="control" style="width: 50% ;">
                        <input class="input is-info"
                               id="find"
                               type="text"
                               name="find"
                               placeholder="">
                      </div>
                      <div class="control">
                        <button type="submit" class="button is-info">
                          <span class="icon is-left">
                            <i class="fas fa-search" aria-hidden="true"></i>
                          </span>
                        </button>
                      </div>

                  </div>
                  <div style="display: flex;justify-content: center">
                     <span>e.g.
                         <a id="eg" style="color: rgb(37, 95, 163);">
                         {%  if list %}
                             {{ list[0].chinese}}
                         {%else %}
                             {{ 'è‰¾å¶' }}
                         {% endif %}
                         </a>
                     </span>
                  </div>
              </form>

          </div>

          <div class="box">
          {{ pagination.info }}
              <div class="bd-screenshots">
                    {% for item in list %}
                    <div class="bd-screenshot">
                        <figure class="image is-1by1">
                            <a href="/baike/detail/{{ item.chinese }}"
                               target="_blank">
                                <img src="../static/images/cls/{{ item.pinyin }}.jpg" alt="Placeholder image">
                            </a>
                        </figure>
                        <span class="tag is-link is-normal" style="width: 100%">{{ item.chinese}}</span>
                    </div>
                    {% endfor %}
              </div>
            {{ pagination.links }}
          </div>
        </article>
    </div>
        <script>
        // è·å–å½“å‰é¡µé¢çš„è·¯å¾„
        var path = window.location.pathname;
        // è·å–æ‰€æœ‰çš„<a>å…ƒç´ 
        var tabs = document.querySelectorAll('.panel-tabs a');
        // éå†æ‰€æœ‰çš„<a>å…ƒç´ 
        tabs.forEach(function(tab) {
            // æ£€æŸ¥å½“å‰<a>å…ƒç´ çš„hrefå±æ€§æ˜¯å¦ä¸å½“å‰é¡µé¢è·¯å¾„åŒ¹é…
            if (tab.getAttribute('href') === path) {
                // å¦‚æœåŒ¹é…ï¼Œåˆ™æ·»åŠ is-activeç±»
                tab.classList.add('is-active');
            } else {
                // å¦‚æœä¸åŒ¹é…ï¼Œåˆ™ç§»é™¤is-activeç±»
                tab.classList.remove('is-active');
            }
        });

        document.getElementById('eg').addEventListener('click', function() {
            let ingredientText = this.innerText;
            document.getElementById('find').value = ingredientText;
        });
        </script>
    {% endblock %}
  </body>
</html>